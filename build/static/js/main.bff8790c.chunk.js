(this.webpackJsonpexchangesrates=this.webpackJsonpexchangesrates||[]).push([[0],{105:function(e,t,a){e.exports=a(117)},110:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),u=a.n(c),l=(a(110),a(25)),o=a(15),i=a(157),m=a(161),s=a(160),d=a(152),f=a(158),p=a(159),C=a(156),y=a(174),E=a(170),b=a(81),v=a.n(b),h=a(80),g=a.n(h),O=function(e){return localStorage.setItem("favoritesCur",JSON.stringify(e)),{type:"SET_FAVORITE",payload:e}},_=a(65),N=a.n(_);function j(e){var t=e.value,a=e.prev,n=e.code,c=t-a;return r.a.createElement("span",null,"".concat(t.toFixed(2)," ").concat(n.toLowerCase()," "),r.a.createElement("span",{className:c>=0?N.a.bad:N.a.good},"( ",c.toFixed(3)," )"))}function I(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.currencyReducer})),a=Object(o.c)((function(e){return e.favoriteCurrencyReducer}));return r.a.createElement(d.a,{component:C.a},r.a.createElement(i.a,{stickyHeader:!0,"aria-label":"simple table"},r.a.createElement(f.a,null,r.a.createElement(p.a,null,r.a.createElement(s.a,{align:"left"},"\u0417\u0430"),r.a.createElement(s.a,{align:"left"},"\u0411\u0443\u043a\u0432. \u043a\u043e\u0434"),r.a.createElement(s.a,{align:"left"},"\u0412\u0430\u043b\u044e\u0442\u0430"),r.a.createElement(s.a,{align:"left"},"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c"),r.a.createElement(s.a,{align:"left"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u0430\u044f"))),r.a.createElement(m.a,null,t.filter((function(e){return e.CharCode!==a.currency.CharCode})).sort((function(e){return a.list.includes(e.ID)?-1:1})).map((function(e){for(var t=1,n=e.Value/a.currency.Value/e.Nominal*a.currency.Nominal,r=e.Previous/a.currency.Previous/e.Nominal*a.currency.Nominal;n*t<1;)t*=10;return Object(l.a)({},e,{Nominal:1*t,Value:n*t,Previous:r*t})})).map((function(t){return r.a.createElement(p.a,{key:t.NumCode},r.a.createElement(s.a,{align:"left"},t.Nominal),r.a.createElement(s.a,{align:"left"},t.CharCode),r.a.createElement(s.a,{align:"left"},t.Name),r.a.createElement(s.a,{align:"left"},r.a.createElement(j,{prev:t.Previous,value:t.Value,code:a.currency.CharCode})),r.a.createElement(s.a,{align:"center"},r.a.createElement(y.a,{control:r.a.createElement(E.a,{onChange:function(){return e(function(e){var t=JSON.parse(localStorage.getItem("favorites"))||[],a=t.indexOf(e);return t=a>=0?t.filter((function(t){return t!==e})):t.concat(e),localStorage.setItem("favorites",JSON.stringify(t)),{type:"CHANGE_FAVORITE_LIST",payload:t}}(t.ID))},checked:a.list.includes(t.ID),icon:r.a.createElement(g.a,null),checkedIcon:r.a.createElement(v.a,null),name:t.CharCode,label:t.CharCode})})))})))))}var R=a(44),x=a(169),S=a(173),V=a(66),D=a.n(V),k=a(162),A=function(e){return{type:"CHANGE_MAIN_CUR",payload:e}},H=function(e){return{type:"CHANGE_BOTH_CUR",payload:e}},F=function(e){return{type:"CHANGE_SECOND_CUR",payload:e}};function T(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.currencyReducer})),a=Object(o.c)((function(e){return e.favoriteCurrencyReducer})),n=function(a){var n=t.filter((function(e){return e.CharCode===a.target.value}));e(O.apply(void 0,Object(R.a)(n))),e(H.apply(void 0,Object(R.a)(n)))};return r.a.createElement("div",{className:D.a.container},r.a.createElement("p",{className:D.a.text}," \u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430 : "),r.a.createElement(k.a,null,r.a.createElement(x.a,{value:t.length>1?a.currency.CharCode:"",onChange:function(e){return n(e)},displayEmpty:!0,inputProps:{"aria-label":"Without label"}},t.map((function(e){return r.a.createElement(S.a,{key:e.NumCode,value:e.CharCode},e.Name)})))))}function w(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(I,null))}var P=a(168),G=a(119),U=a(165),J=a(12),B=a(59),z=a(61),M=a.n(z),W=a(43),L=a(82),Q=a.n(L),Y=a(83),K=a.n(Y),q=a(172),X=a(84),Z=a.n(X);function $(e){var t=e.value,a=e.changeHandler,n=e.readOnly,c=e.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:Z.a.input,InputProps:{style:{fontSize:40},inputProps:{min:0},readOnly:n},fullWidth:!0,value:t,onChange:function(e){return a(e.target.value)},id:"outlined-number",label:c,type:"number",InputLabelProps:{shrink:!0},variant:"outlined"}),"\u0421\u044e\u0434\u0430 \u043f\u043e\u0442\u043e\u043c \u0434\u043e\u043f\u0438\u0448\u0443")}var ee=a(86),te=a.n(ee),ae=a(85),ne=a.n(ae),re=a(167),ce=a(171),ue=a(166),le=a(62),oe=a.n(le),ie=a(175);function me(e){var t=e.activeCur,a=e.changeCur,c=Object(n.useState)(!1),u=Object(W.a)(c,2),l=u[0],i=u[1],m=Object(o.c)((function(e){return e.currencyReducer})),s=Object(o.c)((function(e){return e.favoriteCurrencyReducer})),d=Object(n.useRef)(null),f=Object(o.b)(),p=Object(n.useState)(3),y=Object(W.a)(p,2),E=y[0],b=y[1],v=Object(n.useMemo)((function(){return m.slice().sort((function(e,t){return e.ID===s.currency.ID?-1:t.ID===s.currency.ID?1:s.list.includes(e.ID)>s.list.includes(t.ID)?-1:1}))}),[m,s]),h=function(e){d.current&&d.current.contains(e.target)||i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{size:"small",className:oe.a.buttons,color:"primary","aria-label":"buttons"},v.slice(0,3).map((function(e,n){return r.a.createElement(G.a,{onClick:function(){f(a(e))},key:n,variant:e.ID===t.ID?"contained":"",className:oe.a.button},e.CharCode)})),r.a.createElement(G.a,{onClick:function(){f(a(v[E]))},variant:v[E]&&v[E].ID===t.ID?"contained":"",className:oe.a.button},v.length>1&&v[E].CharCode),r.a.createElement(G.a,{ref:d,onClick:function(){i((function(e){return!e}))}},l?r.a.createElement(ne.a,null):r.a.createElement(te.a,null))),r.a.createElement(ue.a,{open:l,anchorEl:d.current,role:void 0,transition:!0,style:{zIndex:2}},(function(e){var t=e.TransitionProps,n=e.placement;return r.a.createElement(ce.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(C.a,{elevation:3},r.a.createElement(re.a,{onClickAway:h},r.a.createElement(ie.a,{style:{maxHeight:450,overflow:"auto"}},v.slice(3).map((function(e,t){return r.a.createElement(S.a,{key:t,selected:e.ID===v[E].ID,onClick:function(){return function(e){b(e),f(a(v[e])),i(!1)}(t+3)}},e.Name)}))))))})))}function se(e){var t=e.inputValue,a=e.inputValueHandler,n=e.readOnly,c=e.name,u=e.activeCur,l=e.changeCur;return r.a.createElement("div",{className:K.a.container},r.a.createElement(me,{activeCur:u,changeCur:l}),r.a.createElement($,{name:c,value:t,changeHandler:a,readOnly:n}))}function de(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.exchangeCurrencyReducer})),a=Object(o.c)((function(e){return e.favoriteCurrencyReducer.currency})),c=Object(n.useState)(0),u=Object(W.a)(c,2),l=u[0],i=u[1],m=Object(n.useState)(0),s=Object(W.a)(m,2),d=s[0],f=s[1];return Object(n.useEffect)((function(){var e=t.mainCurrency.Value/t.secondCurrency.Value/t.mainCurrency.Nominal*t.secondCurrency.Nominal*l;f(e.toFixed(2))}),[l,t.mainCurrency.Value,t.secondCurrency.Value,t.mainCurrency.Nominal,t.secondCurrency.Nominal]),Object(n.useEffect)((function(){e(H(a))}),[a,e]),r.a.createElement("div",{className:Q.a.container},r.a.createElement(se,{inputValue:l,inputValueHandler:i,name:"\u041e\u0442\u0434\u0430\u0435\u0448\u044c",activeCur:t.mainCurrency,changeCur:A}),r.a.createElement(se,{inputValue:d,readOnly:!0,activeCur:t.secondCurrency,name:"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c",changeCur:F}))}function fe(){return r.a.createElement("div",null,"\u041e\u0448\u0438\u0431\u043a\u0430. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043e\u0434\u043d\u0443 \u0438\u0437 \u043a\u043d\u043e\u043f\u043e\u043a \u0441\u0432\u0435\u0440\u0445\u0443, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e-\u0431\u044b \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0440\u0430\u0437\u0434\u0435\u043b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.")}var pe=[{name:"\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442",path:"/"},{name:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0432\u0430\u043b\u044e\u0442",path:"/calc"}];var Ce=function(){var e=Object(J.f)(),t=Object(o.b)();return Object(n.useEffect)((function(){t((function(e){fetch("https://www.cbr-xml-daily.ru/daily_json.js").then((function(e){return e.json()})).then((function(t){return e({type:"GET_CURRENCY",payload:Object.values(t.Valute)})}))}))}),[t]),r.a.createElement(P.b,{injectFirst:!0},r.a.createElement("div",{className:M.a.container},r.a.createElement(U.a,{className:M.a.buttons,size:"large",color:"primary","aria-label":"large outlined primary button group"},pe.map((function(t,a){return r.a.createElement(G.a,{variant:t.path===e.pathname?"contained":"",className:M.a.button,key:a,component:B.b,to:t.path},t.name)}))),r.a.createElement(J.c,null,r.a.createElement(J.a,{exact:!0,path:"/"},r.a.createElement(w,null)),r.a.createElement(J.a,{exact:!0,path:"/calc"},r.a.createElement(de,null)),r.a.createElement(J.a,{path:"*"},r.a.createElement(fe,null)))))},ye=a(27),Ee=a(88),be=a(89),ve=[{ID:"R01",NumCode:"643",CharCode:"RUB",Nominal:1,Name:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",Value:1,Previous:1}],he={currency:JSON.parse(localStorage.getItem("favoritesCur"))||{ID:"R01",NumCode:"643",CharCode:"RUB",Nominal:1,Name:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",Value:1,Previous:1},list:JSON.parse(localStorage.getItem("favorites"))||[]},ge=JSON.parse(localStorage.getItem("favoritesCur"))||{ID:"R01",NumCode:"643",CharCode:"RUB",Nominal:1,Name:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",Value:1,Previous:1},Oe={mainCurrency:ge,secondCurrency:ge},_e=Object(ye.combineReducers)({currencyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENCY":return[].concat(Object(R.a)(e),Object(R.a)(t.payload));default:return e}},favoriteCurrencyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITE":return Object(l.a)({},e,{currency:t.payload});case"CHANGE_FAVORITE_LIST":return Object(l.a)({},e,{list:t.payload});default:return e}},exchangeCurrencyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MAIN_CUR":return console.log(t),Object(l.a)({},e,{mainCurrency:t.payload});case"CHANGE_SECOND_CUR":return Object(l.a)({},e,{secondCurrency:t.payload});case"CHANGE_BOTH_CUR":return Object(l.a)({},e,{mainCurrency:t.payload,secondCurrency:t.payload});default:return e}}}),Ne=Object(ye.createStore)(_e,Object(Ee.composeWithDevTools)(Object(ye.applyMiddleware)(be.a)));u.a.render(r.a.createElement(o.a,{store:Ne},r.a.createElement(B.a,null,r.a.createElement(Ce,null))),document.getElementById("root"))},61:function(e,t,a){e.exports={container:"App_container__2JWie",buttons:"App_buttons__SueQk",button:"App_button__3IwCJ"}},62:function(e,t,a){e.exports={buttons:"ExchangeSelectCurrency_buttons__3WhmR",button:"ExchangeSelectCurrency_button__2fp77"}},65:function(e,t,a){e.exports={good:"CurrencyValue_good__1zknA",bad:"CurrencyValue_bad__34OVM"}},66:function(e,t,a){e.exports={container:"FavoriteCurrency_container__14pKF",text:"FavoriteCurrency_text__3yjQ9"}},82:function(e,t,a){e.exports={container:"ExchangeRatePage_container__20nG3"}},83:function(e,t,a){e.exports={container:"ExchangeBlock_container__3DfrB"}},84:function(e,t,a){e.exports={input:"ExchangeInput_input__1txvD"}}},[[105,1,2]]]);
//# sourceMappingURL=main.bff8790c.chunk.js.map